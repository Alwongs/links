(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ed7adb78"],{"2db8":function(t,e,i){"use strict";i.r(e);var s=i("7a23");const n={class:"app-page"},r={key:0,class:"loading"},a={class:"main"},c={class:"title"},o={class:"link-list"};function l(t,e,i,l,d,g){const b=Object(s["E"])("create-link"),u=Object(s["E"])("link-item");return Object(s["x"])(),Object(s["g"])("div",n,[g.loading?(Object(s["x"])(),Object(s["g"])("p",r,"Загрузка...")):Object(s["f"])("",!0),Object(s["j"])(b),Object(s["h"])("main",a,[Object(s["h"])("h1",c,Object(s["G"])(g.getCategory.name),1),Object(s["h"])("ul",o,[(Object(s["x"])(!0),Object(s["g"])(s["a"],null,Object(s["D"])(g.getLinkList,(t,e)=>(Object(s["x"])(),Object(s["e"])(u,{key:t.id,link:t,number:e},null,8,["link","number"]))),128))])])])}const d=t=>(Object(s["A"])("data-v-603f3fe8"),t=t(),Object(s["y"])(),t),g={class:"input-list"},b={class:"input-item"},u={class:"input-item"},h=d(()=>Object(s["h"])("li",{class:"input-item submit-item"},[Object(s["h"])("input",{type:"submit",value:"Save",class:"submit"})],-1));function O(t,e,i,n,r,a){const c=Object(s["E"])("form-trigger");return Object(s["x"])(),Object(s["g"])(s["a"],null,[Object(s["j"])(c,{isFormOpen:r.isFormOpen,title:"New link",zIndex:1,onToggleForm:a.toggleForm},null,8,["isFormOpen","onToggleForm"]),Object(s["h"])("form",{class:Object(s["r"])(["form",{active:r.isFormOpen}]),onSubmit:e[2]||(e[2]=Object(s["M"])((...t)=>a.saveLink&&a.saveLink(...t),["prevent"]))},[Object(s["h"])("ul",g,[Object(s["h"])("li",b,[Object(s["L"])(Object(s["h"])("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>r.link.title=t),type:"text",placeholder:"link title..",required:""},null,512),[[s["I"],r.link.title]])]),Object(s["h"])("li",u,[Object(s["L"])(Object(s["h"])("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>r.link.src=t),type:"text",placeholder:"link src..",required:""},null,512),[[s["I"],r.link.src]])]),h])],34)],64)}var k=i("4d68"),p={name:"CreateLink",components:{FormTrigger:k["a"]},data(){return{isFormOpen:!1,categoryId:this.$route.params.id,link:{title:"",src:""}}},computed:{loading(){return this.$store.getters.getLoading},getLinkList(){return this.$store.getters.getLinkList},isAsideOpen(){return this.$store.getters.isAsideOpen}},methods:{toggleForm(){this.isFormOpen=!this.isFormOpen},async saveLink(){await this.$store.dispatch("saveLink",this.link),await this.$store.dispatch("getLinkList",this.categoryId),this.link.title="",this.link.src=""}}},m=(i("d58a"),i("6b0d")),j=i.n(m);const L=j()(p,[["render",O],["__scopeId","data-v-603f3fe8"]]);var f=L;const y=t=>(Object(s["A"])("data-v-eb9bf394"),t=t(),Object(s["y"])(),t),v={class:"link-item"},$={class:"link-name"},w=["href"],I=y(()=>Object(s["h"])("div",{class:"flex-divider"},null,-1));function F(t,e,i,n,r,a){return Object(s["x"])(),Object(s["g"])("li",v,[Object(s["h"])("div",$,[Object(s["h"])("a",{target:"_blank",href:i.link.src},Object(s["G"])(i.link.title),9,w)]),I,Object(s["h"])("button",{id:"button",class:"btn-delete",onClick:e[0]||(e[0]=t=>a.deleteLink(i.link))}," Del ")])}var C={name:"LinkItem",props:["link","number"],computed:{loading(){return this.$store.getters.getLoading},getCategory(){return this.$store.getters.getCategory},getLinkList(){return this.$store.getters.getLinkList}},methods:{async deleteLink(t){confirm(`Delete "${t.title}"`)&&await this.$store.dispatch("deleteLink",t.id)}}};i("98d6");const x=j()(C,[["render",F],["__scopeId","data-v-eb9bf394"]]);var _=x,A={name:"LinksPage",components:{CreateLink:f,LinkItem:_},data(){return{categoryId:this.$route.params.id}},computed:{loading(){return this.$store.getters.getLoading},getCategory(){return this.$store.getters.getCategory},getLinkList(){return this.$store.getters.getLinkList}},async mounted(){this.$store.getters.getCategoryList.length||await this.$store.dispatch("getCategoryList"),await this.$store.dispatch("getCategory",this.categoryId),this.getLinkList.length||await this.$store.dispatch("getLinkList",this.categoryId)}};i("3e55");const D=j()(A,[["render",l],["__scopeId","data-v-7b19a07d"]]);e["default"]=D},3324:function(t,e,i){},"3e55":function(t,e,i){"use strict";i("ce86")},"98d6":function(t,e,i){"use strict";i("fb2d")},ce86:function(t,e,i){},d58a:function(t,e,i){"use strict";i("3324")},fb2d:function(t,e,i){}}]);
//# sourceMappingURL=chunk-ed7adb78.d374b869.js.map