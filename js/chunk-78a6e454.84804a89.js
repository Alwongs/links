(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-78a6e454"],{"2db8":function(t,e,i){"use strict";i.r(e);var s=i("7a23");const n={class:"app-page"},r={key:0,class:"loading"},c={class:"main"},a={class:"title"},l={class:"link-list"};function o(t,e,i,o,d,g){const b=Object(s["E"])("create-link"),u=Object(s["E"])("link-item");return Object(s["x"])(),Object(s["g"])("div",n,[g.loading?(Object(s["x"])(),Object(s["g"])("p",r,"Загрузка...")):Object(s["f"])("",!0),Object(s["j"])(b),Object(s["h"])("main",c,[Object(s["h"])("h1",a,Object(s["G"])(g.getCategory.name),1),Object(s["h"])("ul",l,[(Object(s["x"])(!0),Object(s["g"])(s["a"],null,Object(s["D"])(g.getLinkList,(t,e)=>(Object(s["x"])(),Object(s["e"])(u,{key:t.id,link:t,number:e},null,8,["link","number"]))),128))])])])}const d=t=>(Object(s["A"])("data-v-26c9de2c"),t=t(),Object(s["y"])(),t),g={class:"input-list"},b={class:"input-item"},u={class:"input-item"},h=d(()=>Object(s["h"])("li",{class:"input-item submit-item"},[Object(s["h"])("input",{type:"submit",value:"Save",class:"submit"})],-1));function k(t,e,i,n,r,c){return Object(s["x"])(),Object(s["g"])(s["a"],null,[c.isAsideOpen?Object(s["f"])("",!0):(Object(s["x"])(),Object(s["g"])("p",{key:0,href:"#",class:"form-trigger",onClick:e[0]||(e[0]=(...t)=>c.toggleForm&&c.toggleForm(...t))},Object(s["G"])(r.isFormOpen?"Close":"New link"),1)),Object(s["h"])("form",{class:Object(s["r"])(["form",{active:r.isFormOpen}]),onSubmit:e[3]||(e[3]=Object(s["M"])((...t)=>c.saveLink&&c.saveLink(...t),["prevent"]))},[Object(s["h"])("ul",g,[Object(s["h"])("li",b,[Object(s["L"])(Object(s["h"])("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>r.link.title=t),type:"text",placeholder:"link title..",required:""},null,512),[[s["I"],r.link.title]])]),Object(s["h"])("li",u,[Object(s["L"])(Object(s["h"])("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>r.link.src=t),type:"text",placeholder:"link src..",required:""},null,512),[[s["I"],r.link.src]])]),h])],34)],64)}var O={name:"CreateLink",data(){return{isFormOpen:!1,categoryId:this.$route.params.id,link:{title:"",src:""}}},computed:{loading(){return this.$store.getters.getLoading},getLinkList(){return this.$store.getters.getLinkList},isAsideOpen(){return this.$store.getters.isAsideOpen}},methods:{toggleForm(){this.isFormOpen=!this.isFormOpen},async saveLink(){""!==this.link.title&&""!==this.link.src?(await this.$store.dispatch("saveLink",this.link),await this.$store.dispatch("getLinkList",this.categoryId),this.link.title="",this.link.src=""):this.isFormOpen=!1}}},p=(i("701f"),i("6b0d")),j=i.n(p);const m=j()(O,[["render",k],["__scopeId","data-v-26c9de2c"]]);var L=m;const f=t=>(Object(s["A"])("data-v-eb9bf394"),t=t(),Object(s["y"])(),t),y={class:"link-item"},v={class:"link-name"},$=["href"],w=f(()=>Object(s["h"])("div",{class:"flex-divider"},null,-1));function C(t,e,i,n,r,c){return Object(s["x"])(),Object(s["g"])("li",y,[Object(s["h"])("div",v,[Object(s["h"])("a",{target:"_blank",href:i.link.src},Object(s["G"])(i.link.title),9,$)]),w,Object(s["h"])("button",{id:"button",class:"btn-delete",onClick:e[0]||(e[0]=t=>c.deleteLink(i.link))}," Del ")])}var I={name:"LinkItem",props:["link","number"],computed:{loading(){return this.$store.getters.getLoading},getCategory(){return this.$store.getters.getCategory},getLinkList(){return this.$store.getters.getLinkList}},methods:{async deleteLink(t){confirm(`Delete "${t.title}"`)&&await this.$store.dispatch("deleteLink",t.id)}}};i("98d6");const x=j()(I,[["render",C],["__scopeId","data-v-eb9bf394"]]);var F=x,_={name:"LinksPage",components:{CreateLink:L,LinkItem:F},data(){return{categoryId:this.$route.params.id}},computed:{loading(){return this.$store.getters.getLoading},getCategory(){return this.$store.getters.getCategory},getLinkList(){return this.$store.getters.getLinkList}},async mounted(){this.$store.getters.getCategoryList.length||await this.$store.dispatch("getCategoryList"),await this.$store.dispatch("getCategory",this.categoryId),this.getLinkList.length||await this.$store.dispatch("getLinkList",this.categoryId)}};i("3e55");const A=j()(_,[["render",o],["__scopeId","data-v-7b19a07d"]]);e["default"]=A},"3e55":function(t,e,i){"use strict";i("ce86")},"701f":function(t,e,i){"use strict";i("f17b")},"98d6":function(t,e,i){"use strict";i("fb2d")},ce86:function(t,e,i){},f17b:function(t,e,i){},fb2d:function(t,e,i){}}]);
//# sourceMappingURL=chunk-78a6e454.84804a89.js.map