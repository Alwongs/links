(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-07f027cc"],{"2db8":function(t,e,i){"use strict";i.r(e);var s=i("7a23");const n={class:"app-page"},r={class:"main"},c={key:0,class:"title"},l={class:"link-list"},a={key:0,class:"no-items"};function o(t,e,i,o,d,h){const b=Object(s["I"])("create-link"),u=Object(s["I"])("link-item");return Object(s["B"])(),Object(s["g"])("div",n,[Object(s["k"])(b),Object(s["h"])("main",r,[h.loading?Object(s["f"])("",!0):(Object(s["B"])(),Object(s["g"])("h1",c,Object(s["K"])(h.getCategory.name||"not found category name"),1)),Object(s["h"])("ul",l,[h.getCategoryFilter.links?Object(s["f"])("",!0):(Object(s["B"])(),Object(s["g"])("li",a," Link list is empty.. ")),(Object(s["B"])(!0),Object(s["g"])(s["a"],null,Object(s["H"])(h.getCategoryFilter.links,(t,e)=>(Object(s["B"])(),Object(s["e"])(u,{key:t.id,link:t,number:e},null,8,["link","number"]))),128))])])])}const d=t=>(Object(s["E"])("data-v-201b9d08"),t=t(),Object(s["C"])(),t),h={class:"input-list"},b={class:"input-item"},u=["placeholder"],g={key:0,class:"error"},O={key:1,class:"error"},j={class:"input-item"},m=["placeholder"],k={key:0,class:"error"},p={key:1,class:"error"},$=d(()=>Object(s["h"])("li",{class:"input-item submit-item"},[Object(s["h"])("input",{type:"submit",value:"Save",class:"submit"})],-1));function v(t,e,i,n,r,c){const l=Object(s["I"])("form-trigger");return Object(s["B"])(),Object(s["g"])(s["a"],null,[Object(s["k"])(l,{isFormOpen:r.isFormOpen,title:t.$t("new_link"),zIndex:1,onToggleForm:c.toggleForm},null,8,["isFormOpen","title","onToggleForm"]),Object(s["h"])("form",{class:Object(s["u"])(["form",{active:r.isFormOpen}]),onSubmit:e[2]||(e[2]=Object(s["Q"])((...t)=>c.saveLink&&c.saveLink(...t),["prevent"]))},[Object(s["h"])("ul",h,[Object(s["h"])("li",b,[Object(s["P"])(Object(s["h"])("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>r.link.title=t),type:"text",placeholder:t.$t("link_title"),class:Object(s["u"])({invalid:n.v$.link.title.$dirty&&n.v$.link.title.$error})},null,10,u),[[s["M"],r.link.title]])]),(Object(s["B"])(!0),Object(s["g"])(s["a"],null,Object(s["H"])(n.v$.link.title.$errors,e=>(Object(s["B"])(),Object(s["g"])("li",{key:e.$uid,class:"error-item"},["minLength"==e.$params.type?(Object(s["B"])(),Object(s["g"])("small",g,Object(s["K"])(t.$t("min_number_of_letters"))+" "+Object(s["K"])(e.$params.min),1)):"required"==e.$params.type?(Object(s["B"])(),Object(s["g"])("small",O,Object(s["K"])(t.$t("field_should_be_filled")),1)):Object(s["f"])("",!0)]))),128)),Object(s["h"])("li",j,[Object(s["P"])(Object(s["h"])("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>r.link.src=t),type:"text",placeholder:t.$t("link_src"),class:Object(s["u"])({invalid:n.v$.link.src.$dirty&&n.v$.link.src.$error})},null,10,m),[[s["M"],r.link.src]])]),(Object(s["B"])(!0),Object(s["g"])(s["a"],null,Object(s["H"])(n.v$.link.src.$errors,e=>(Object(s["B"])(),Object(s["g"])("li",{key:e.$uid,class:"error-item"},["url"==e.$params.type?(Object(s["B"])(),Object(s["g"])("small",k,Object(s["K"])(t.$t("wrong_url")),1)):(Object(s["B"])(),Object(s["g"])("small",p,Object(s["K"])(e.$message),1))]))),128)),$])],34)],64)}var w=i("4d68"),y=i("25a0"),f=i("e3e1"),L={name:"CreateLink",components:{FormTrigger:w["a"]},setup(){return{v$:Object(y["a"])()}},data(){return{isFormOpen:!1,categoryId:this.$route.params.id,link:{title:"",src:""}}},validations(){return{link:{title:{required:f["c"],minLength:Object(f["b"])(3)},src:{url:f["d"]}}}},computed:{loading(){return this.$store.getters.getLoading}},methods:{toggleForm(){this.link={},this.v$.link.$reset(),this.isFormOpen=!this.isFormOpen},async saveLink(){if(this.v$.link.title.$invalid)this.v$.link.title.$touch();else{if(this.v$.link.src.$invalid)return this.v$.link.src.$touch(),void console.log(this.v$.link.src);await this.$store.dispatch("saveLink",this.link),this.link={},this.isFormOpen=!1}}}},F=(i("f6db"),i("6b0d")),_=i.n(F);const C=_()(L,[["render",v],["__scopeId","data-v-201b9d08"]]);var B=C;const I={class:"link-item"},K={class:"link-name"},x=["href"];function W(t,e,i,n,r,c){return Object(s["B"])(),Object(s["g"])("li",I,[Object(s["h"])("div",K,[Object(s["h"])("a",{target:"_blank",href:i.link.src,class:"link"},Object(s["K"])(c.limitText(i.link.title)),9,x)]),Object(s["h"])("div",{class:"flex-divider",onClick:e[0]||(e[0]=(...e)=>t.getWidth&&t.getWidth(...e))}),Object(s["h"])("button",{id:"button",class:"btn-delete",onClick:e[1]||(e[1]=t=>c.deleteLink(i.link))})])}var T={name:"LinkItem",props:["link","number"],data(){return{width:window.innerWidth}},computed:{loading(){return this.$store.getters.getLoading}},watch:{width(){}},methods:{updateWidth(){this.width=window.innerWidth},capitalizeFirstLetter(t){return t[0].toUpperCase()+t.substring(1)},limitText(t){let e=this.capitalizeFirstLetter(t);return this.width>=2550?e.substring(0,this.width/20)+"...":this.width<2550&&this.width>=1980?e.substring(0,this.width/22)+"...":this.width<1980&&this.width>=1440||this.width<1440&&this.width>=1024||this.width<1023&&this.width>=768?e.substring(0,this.width/30)+"...":this.width<768?e.substring(0,this.width/17)+"...":void 0},async deleteLink(t){confirm(`Delete "${t.title}"`)&&await this.$store.dispatch("deleteLink",t.id)}},created(){window.addEventListener("resize",this.updateWidth)}};i("44ec");const z=_()(T,[["render",W],["__scopeId","data-v-51ac0f3b"]]);var H=z,P={name:"LinksPage",components:{CreateLink:B,LinkItem:H},data(){return{categoryId:this.$route.params.id}},computed:{loading(){return this.$store.getters.getLoading},getCategory(){return this.$store.getters.getCategory},getCategoryFilter(){return this.$store.getters.getCategoryFilter}},async mounted(){this.$store.getters.getCategoryList.length||await this.$store.dispatch("getCategoryList"),await this.$store.dispatch("getCategory",this.categoryId)}};i("521a");const U=_()(P,[["render",o],["__scopeId","data-v-7843dc24"]]);e["default"]=U},"44ec":function(t,e,i){"use strict";i("7a67")},"4e8f":function(t,e,i){},"521a":function(t,e,i){"use strict";i("4e8f")},"7a67":function(t,e,i){},ced4:function(t,e,i){},f6db:function(t,e,i){"use strict";i("ced4")}}]);
//# sourceMappingURL=chunk-07f027cc.e95cde2d.js.map